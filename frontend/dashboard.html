<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crowdsourced Disaster Response Platform</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        .card:hover {
            transform: translateY(-10px);
            transition: transform 0.3s ease;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
    </style>
</head>
<body class="bg-gray-50 font-sans leading-normal tracking-normal">
    <!-- Navbar -->
    <nav class="bg-blue-900 p-4 shadow-lg">
        <div class="container mx-auto flex justify-between items-center">
            <div class="text-white text-3xl font-bold">ResponderX</div>
            <div>
                <a href="/contact" class="text-white px-4 py-2 hover:bg-blue-700 rounded-xl">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Container -->
    <div class="container mx-auto mt-10">
        <!-- Title -->
        <h1 class="text-3xl md:text-5xl font-bold text-center text-gray-800 mb-10">ResponderX - A Crowdsourced Disaster Response Platform</h1>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 px-4 sm:px-12">
            <!-- Volunteers Stat -->
            <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-2">
                <div class="flex items-center justify-between">
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users text-blue-500">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                        <h3 class="text-xl font-semibold text-gray-700 mt-2">Volunteers</h3>
                        <p id="volunteersCount" class="text-3xl font-bold text-gray-900">0</p>
                        <div class="pt-4">
                            <button class="bg-blue-50 text-blue-600 px-4 py-2 rounded-xl hover:bg-blue-100 transition-colors" onclick="window.location.href='/register_volunteer'">Join as a volunteer</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Active Incidents Stat -->
            <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-2">
                <div class="flex items-center justify-between">
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-alert-triangle text-red-500">
                            <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                            <path d="M12 9v4"/>
                            <path d="M12 17h.01"/>
                        </svg>
                        <h3 class="text-xl font-semibold text-gray-700 mt-2">Number of Reports</h3>
                        <p id="reportsCount" class="text-3xl font-bold text-gray-900">0</p>
                    </div>
                </div>
            </div>

            <!-- Donations Stat -->
            <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-2">
                <div class="flex items-center justify-between">
                    <div>
                        <svg fill="#000000" width="32" height="32" viewBox="-96 0 512 512" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"></path></g></svg>
                        <h3 class="text-xl font-semibold text-gray-700 mt-2">Donations</h3>
                        <p id="donationsCount" class="text-3xl font-bold text-gray-900">₹0</p>
                    </div>
                </div>
            </div>

            <!-- Resources Donated Stat -->
            <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-2">
                <div class="flex items-center justify-between">
                    <div>
                        <h3 class="text-xl font-semibold text-gray-700 mt-2">Resources Donated</h3>
                        <p id="resourcesCount" class="text-3xl font-bold text-gray-900">0</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cards Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 px-4 sm:px-12">
            <!-- Incident Reporting -->
            <div class="card bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Incident Reporting</h2>
                <p class="text-lg text-gray-600 mb-6">Receive instant alerts & updates.</p>
                <button class="bg-red-50 text-red-600 px-4 py-2 rounded-xl hover:bg-red-100 transition-colors" onclick="window.location.href='/submit_report'">Report Incident</button>
            </div>

            <!-- Resources Management -->
            <div class="card bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Resources Management</h2>
                <p class="text-lg text-gray-600 mb-6">Manage and track resources effectively.</p>
                <button class="bg-blue-50 text-blue-600 px-4 py-2 rounded-xl hover:bg-blue-100 transition-colors" onclick="window.location.href='/resources'">Resources</button>
            </div>

            <!-- Donate -->
            <div class="card bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Donate</h2>
                <p class="text-lg text-gray-600 mb-6">Donate money or resources for the victims.</p>
                <button class="bg-green-50 text-green-600 px-4 py-2 rounded-xl hover:bg-green-100 transition-colors" onclick="window.location.href='/donate'">Donate</button>
            </div>

            <!-- Volunteer Management -->
            <div class="card bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Volunteer Management</h2>
                <p class="text-lg text-gray-600 mb-6">Join as a volunteer.</p>
                <button class="bg-purple-50 text-purple-600 px-4 py-2 rounded-xl hover:bg-purple-100 transition-colors" onclick="window.location.href='/register_volunteer'">Join</button>
            </div>

            <!-- Mental Health Support -->
            <div class="card bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Mental Health Support</h2>
                <p class="text-lg text-gray-600 mb-6">Connect with counselors and therapists.</p>
                <button class="bg-red-50 text-red-600 px-4 py-2 rounded-xl hover:bg-red-100 transition-colors" onclick="window.location.href='/chat'">Support</button>
            </div>
        </div>
    </div>

    <script>
        async function fetchStats() {
            try {
                const response = await fetch('/api/stats');
                const stats = await response.json();

                document.getElementById('volunteersCount').textContent = stats.volunteers;
                document.getElementById('reportsCount').textContent = stats.reports;
                document.getElementById('donationsCount').textContent = `₹${stats.donations}`;
                document.getElementById('resourcesCount').textContent = stats.resources;
            } catch (error) {
                console.error('Error fetching stats:', error);
            }
        }

        document.addEventListener('DOMContentLoaded', fetchStats);
    </script>
</body>
</html>